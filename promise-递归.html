<!DOCTYPE html>
<html>
	<head>
		<meta charset="{CHARSET}">
		<title></title>
	</head>
	<body>
	</body>
	<script type="text/javascript">
		//promise 实现递归
		function fun(num){
			return new Promise((resolve,reject)=>{
				resolve(num);
				reject(Error)
			})
		}
		
		function then(value){
			console.log(value);
			if(value>0){
				--value
				fun(value).then(then);
			}
		}
		
		fun(10)
		.then(then)
		.catch((err)=>{
			console.log(err)
		})
	</script>
</html>
