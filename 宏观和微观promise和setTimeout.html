<!DOCTYPE html>
<html>

<head>
	<meta charset="{CHARSET}">
	<title></title>
</head>

<body>
</body>
<script type="text/javascript">
	/**
	 * output:
	 * 		 agoni
	 * 		 agoni123
	 * 		 ending
	 * 		 rain
	 * 		 then ending
	 * 		 setTimeout ending
	 **/
	var a = 'agoni';
	// setTimeout属于宏观
	setTimeout(() => {
		console.log('setTimeout ending');
	}, 0)

	console.log(a);
	//Promise 属于微观
	var promise = new Promise((resolve, reject) => {
		console.log(a + '123');
		let b = 'rain';
		if (b == 'rain') {
			resolve(b);
		} else {
			reject('falied')
		}
	})
	promise
		.then((res) => {
			console.log(res);
			console.log('then ending');
		}).catch((err) => {
			console.log(err);
		})
	console.log('ending');
</script>

</html>